<div class="profile-content">
    <h3 class="profile-content__title">Profile</h3>
    <div class="profile-content__form">
        <div class="profile-content__form-wrap">
            <form [formGroup]="form" (ngSubmit)="updateProfile()">
                <div class="form-group">
                    <label for="name" class="form-group__label">Name</label>
                    <input
                        type="text"
                        name="name"
                        formControlName="name"
                        #name
                        id="name"
                        class="form-control"
                        required
                    />
                    <div
                        *ngIf="form.get('name').touched && form.get('name').invalid"
                        class="form-group__validator"
                    >
                        <small *ngIf="form.get('name').errors.required">
                            Enter name
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label for="email" class="form-group__label">Email</label>
                    <input
                        type="email"
                        name="email"
                        formControlName="email"
                        #email
                        id="email"
                        class="form-control"
                        required
                    />
                    <div
                        *ngIf="
                            form.get('email').touched &&
                            form.get('email').invalid
                        "
                        class="form-group__validator"
                    >
                        <small *ngIf="form.get('email').errors.required">
                            Enter email
                        </small>
                        <small *ngIf="form.get('email').errors.email">
                            Enter valid email
                        </small>
                    </div>
                </div>
                <button
                    class="form-btn"
                    type="submit"
                    [disabled]="form.invalid"
                >
                    Update profile
                </button>
            </form>
        </div>
        <div class="profile-content__form-logo">
            <div class="change-logo">
                <h4 class="title">Profile picture</h4>
                <img
                    src="{{ avatar$ | async }}"
                    class="change-logo-img"
                    alt="change-logo"
                    *ngIf="!!profileAvatar"
                />
                <img
                    src="../../../../../assets/img/avatar.png"
                    class="change-logo-img"
                    *ngIf="!profileAvatar"
                />
                <div class="edit-toggle">
                    <mat-accordion>
                        <mat-expansion-panel hideToggle>
                            <mat-expansion-panel-header>
                                <mat-panel-title class="edit-text">
                                    <mat-icon class="edit-icon">
                                        <span>edit</span>
                                    </mat-icon>
                                    Edit
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div class="edit-expansion">
                                <label
                                    for="loadFile"
                                    class="edit-upload edit-item"
                                >
                                    Upload
                                </label>
                                <input
                                    type="file"
                                    id="loadFile"
                                    name="loadFile"
                                    hidden
                                    (change)="getFile($event)"
                                />
                                <span
                                    class="edit-remove edit-item"
                                    (click)="onRemoveFile()"
                                >
                                    Remove img
                                </span>
                            </div>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #loading>
    <h3>Loading...</h3>
</ng-template>
